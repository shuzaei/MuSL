# Organizer

`Organizer` を定義する前に、`Event` クラスを定義します。

## 概要
`Event` は、音楽イベントを表すクラスです。

## 属性

- `event_type`: "major" または "minor"
  - イベントのタイプ。メジャー型かマイナー型かを決定。
- `creator_pool`: List[Song]
  - イベントに参加する曲の集合。
- `listener_pool`: List[Listener]
  - 評価を行うリスナーの集合。
- `evaluation_pool`: Map[Song, List[float]]
  - 各曲に対するリスナーの評価。リスナーごとに評価が異なる。
- `evaluation_reward`: Map[Song, float]
  - 各曲に対する報酬。リスナーの評価に応じて変動する。

## 概要
`Organizer` は、音楽イベントを開催するエージェントを表すクラスです。
`Organizer` は、`Agent` クラスを継承しており、`Agent` が持つ属性に加えて、以下の属性を持ちます。

- `major_probability`: float (0.0〜1.0)
  - メジャーイベントを開催する確率。実験変数なのでエージェント間で共通。
- `creator_events`: List[Event]
  - イベントのうち、まだ終了していないイベントのリスト。今回は 1 イベントのみを考慮するため、高々 1 つの要素を持つリストとなる。
- `event_probability`: float
  - 各イテレーションでイベントを開催する確率。
- `organization_cost`: float
  - イベント開催に掛かる費用。イベント開催時に減る。固定にするつもり。
- `organization_reward`: float
  - イベント開催から得られる報酬の係数。報酬の合計に掛けられ、中抜きを行う。固定にするつもり。

また、イベントに対しては、以下の属性を持つ。
major に対しては、以下の属性を持つ。
- `major_listener_ratio`: float
  - メジャーイベントにおいて、リスナーのうち何割をメジャーイベントに参加させるか。
- `major_creator_ratio`: float
  - メジャーイベントにおいて、クリエイターのうち何割をメジャーイベントに参加させるか。
- `major_song_ratio`: float
  - メジャーイベントにおいて、選んだクリエイターのうち何割の曲をメジャーイベントに参加させるか。
- `major_num_winners`: int
  - メジャーイベントにおいて、上位何曲を高額報酬対象とするか。
- `major_reward_ratio`: float
  - メジャーイベントにおいて、上位曲に対する報酬と、一定の報酬との比率。分配は均等に行われる。

minor に対しては、以下の属性を持つ。
- `minor_listener_ratio`: float
  - マイナーイベントにおいて、リスナーのうち何割をマイナーイベントに参加させるか。
- `minor_creator_ratio`: float
  - マイナーイベントにおいて、クリエイターのうち何割をマイナーイベントに参加させるか。
- `minor_song_ratio`: float
  - マイナーイベントにおいて、選んだクリエイターのうち何割の曲をマイナーイベントに参加させるか。
- `minor_reward_ratio`: float
  - マイナーイベントでは、評価報酬をそのまま係数を掛けて与える報酬と、一定の報酬を考える。この係数は、評価報酬からそのまま与えられる報酬に掛けられ、残りの報酬は一定の報酬として与えられる。

## 複雑すぎるので、省略する要素
- 対象となるジャンル空間やネットワーク構造、位置を考慮した割り当ておよび打診、時間を掛けたイベントなどは考慮しない。
- 曲についての報酬はイベント報酬のみを考慮し、打診料などは考慮しない。
- 今のところ、方針は実験変数で固定しているため、オーガナイザーは大きな進化をとらない役割となる。